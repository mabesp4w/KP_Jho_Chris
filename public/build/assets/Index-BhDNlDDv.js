import{r as n,j as e,H as L,L as D,a as v}from"./app-DbkAcIcf.js";import{A as K}from"./AuthenticatedLayout-DuR5MhV2.js";import{C as d,a as o}from"./Card-ScLjZ8A4.js";import{B as x}from"./Badge-BV8LNYju.js";import{B as h}from"./Button-CS187W_5.js";import{S as j}from"./search-Bvx8ljmV.js";import{X as E}from"./x-C0EZu2U2.js";import{C as B}from"./calendar-DUrEXf4o.js";import{E as T}from"./eye-Dly4X2KR.js";import{H}from"./heart-d_dGH2jt.js";import{E as I}from"./external-link-B3IXervc.js";import"./Avatar-B3yzDNTs.js";import"./createLucideIcon-Bfkpeow3.js";function J({auth:S,kontens:s,platforms:_,kategoris:w,tags:y,filters:c}){const[t,p]=n.useState(c.search||""),[l,u]=n.useState(c.platform||""),[r,g]=n.useState(c.kategori||""),[i,b]=n.useState(c.tag||""),C=a=>{a.preventDefault(),v.get(route("konten.index"),{search:t,platform:l,kategori:r,tag:i},{preserveState:!0,preserveScroll:!0})},f=()=>{p(""),u(""),g(""),b(""),v.get(route("konten.index"),{},{preserveState:!0,preserveScroll:!0})};return e.jsxs(K,{auth:S,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-base-content",children:"Daftar Konten"}),children:[e.jsx(L,{title:"Daftar Konten"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx(d,{className:"mb-6",children:e.jsx(o,{children:e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute top-1/2 left-4 h-5 w-5 -translate-y-1/2 text-base-content/40"}),e.jsx("input",{type:"text",placeholder:"Cari konten berdasarkan judul, platform, atau kategori...",value:t,onChange:a=>p(a.target.value),className:"input-bordered input w-full pl-12"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Platform"})}),e.jsxs("select",{className:"select-bordered select w-full",value:l,onChange:a=>u(a.target.value),children:[e.jsx("option",{value:"",children:"Semua Platform"}),_?.map(a=>e.jsx("option",{value:a.id,children:a.nm_platform},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Kategori"})}),e.jsxs("select",{className:"select-bordered select w-full",value:r,onChange:a=>g(a.target.value),children:[e.jsx("option",{value:"",children:"Semua Kategori"}),w?.map(a=>e.jsx("option",{value:a.id,children:a.nm_kategori},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Tag"})}),e.jsxs("select",{className:"select-bordered select w-full",value:i,onChange:a=>b(a.target.value),children:[e.jsx("option",{value:"",children:"Semua Tag"}),y?.map(a=>e.jsx("option",{value:a.id,children:a.nm_tag},a.id))]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{type:"submit",className:"btn-primary",children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),"Cari"]}),(t||l||r||i)&&e.jsxs(h,{type:"button",onClick:f,className:"btn-outline",children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})})}),s.data&&s.data.length>0&&e.jsxs("div",{className:"mb-4 text-sm text-base-content/60",children:["Menampilkan ",s.data.length," dari ",s.total," konten"]}),s.data&&s.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.data.map(a=>{const m=(a.jml_views||0)+(a.jml_likes||0)+(a.jml_komentar||0)+(a.jml_share||0);return e.jsx(d,{className:"transition-all hover:shadow-xl",children:e.jsxs(o,{children:[e.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[e.jsx(x,{variant:"info",className:"text-xs",children:a.platform?.nm_platform||"-"}),a.kategori&&e.jsx(x,{variant:"success",className:"text-xs",children:a.kategori.nm_kategori})]}),e.jsx("h3",{className:"mb-2 line-clamp-2 font-semibold text-base-content",children:a.judul_konten}),a.tags&&a.tags.length>0&&e.jsx("div",{className:"mb-3 flex flex-wrap gap-1",children:a.tags.map(N=>e.jsx(x,{variant:"outline",className:"text-xs",children:N.nm_tag},N.id))}),e.jsx("div",{className:"mb-3 flex items-center gap-4 text-xs text-base-content/60",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"}),a.tgl_publikasi?new Date(a.tgl_publikasi).toLocaleDateString("id-ID"):"-"]})}),m>0&&e.jsxs("div",{className:"mb-3 flex items-center gap-4 border-t border-base-300 pt-2 text-xs text-base-content/60",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"})," ",a.jml_views?.toLocaleString("id-ID")||0]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"h-3 w-3"})," ",a.jml_likes?.toLocaleString("id-ID")||0]})]}),e.jsxs("a",{href:a.link_konten,target:"_blank",rel:"noopener noreferrer",className:"btn w-full btn-sm btn-primary",children:["Lihat Konten ",e.jsx(I,{className:"ml-1 h-3 w-3"})]})]})},a.id)})}),s.links&&s.links.length>3&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("div",{className:"join",children:s.links.map((a,m)=>e.jsx(D,{href:a.url||"#",className:`join-item btn ${a.active?"btn-active":""} ${a.url?"":"btn-disabled"}`,dangerouslySetInnerHTML:{__html:a.label}},m))})})]}):e.jsx(d,{children:e.jsxs(o,{className:"py-12 text-center",children:[e.jsx(j,{className:"mx-auto mb-4 h-12 w-12 text-base-content/30"}),e.jsx("p",{className:"text-base-content/60",children:t||l||r||i?"Tidak ada konten yang sesuai dengan filter":"Belum ada konten yang dipublikasi"}),(t||l||r||i)&&e.jsx(h,{onClick:f,className:"btn-outline btn-sm mt-4",children:"Reset Filter"})]})})]})})]})}export{J as default};
