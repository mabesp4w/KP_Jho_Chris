import{r as d,j as e,L as T,a as w}from"./app-DbkAcIcf.js";import{B as h}from"./Badge-BV8LNYju.js";import{C as t,a as l}from"./Card-ScLjZ8A4.js";import{B as p}from"./Button-CS187W_5.js";import{P as k}from"./PublicLayout-CIE6wgqw.js";import{a as L}from"./aos-BTYriBEt.js";import{F as P,M as D,T as E}from"./tag-CRFwzLi5.js";import{S as j}from"./search-Bvx8ljmV.js";import{X as I}from"./x-C0EZu2U2.js";import{C as B}from"./calendar-DUrEXf4o.js";import{E as M}from"./eye-Dly4X2KR.js";import{H as R}from"./heart-d_dGH2jt.js";import{E as F}from"./external-link-B3IXervc.js";import"./createLucideIcon-Bfkpeow3.js";function Z({auth:y,kontens:s,platforms:S,kategoris:_,tags:C,stats:m,filters:o}){const[r,u]=d.useState(o.search||""),[i,b]=d.useState(o.platform||""),[n,g]=d.useState(o.kategori||""),[c,f]=d.useState(o.tag||"");d.useEffect(()=>{window.aosInitialized||(L.init({duration:800,easing:"ease-in-out",once:!0}),window.aosInitialized=!0)},[]);const K=a=>{a.preventDefault(),w.get("/konten",{search:r,platform:i,kategori:n,tag:c},{preserveState:!0,preserveScroll:!0})},N=()=>{u(""),b(""),g(""),f(""),w.get("/konten",{},{preserveState:!0,preserveScroll:!0})};return e.jsx(k,{auth:y,title:"Daftar Konten - Aplikasi Rekap Tahunan Link Konten Media Sosial",activeMenu:"konten",children:e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 text-center","data-aos":"fade-up",children:[e.jsx("h1",{className:"text-4xl font-bold text-base-content",children:"Daftar Konten"}),e.jsx("p",{className:"mt-2 text-base-content/60",children:"Jelajahi semua konten media sosial yang telah dipublikasi"})]}),m&&e.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-3","data-aos":"fade-up","data-aos-delay":"100",children:[e.jsx(t,{children:e.jsxs(l,{className:"text-center",children:[e.jsx(P,{className:"mx-auto mb-2 h-6 w-6 text-primary"}),e.jsx("p",{className:"text-2xl font-bold text-base-content",children:m.totalKonten||0}),e.jsx("p",{className:"text-xs text-base-content/60",children:"Total Konten"})]})}),e.jsx(t,{children:e.jsxs(l,{className:"text-center",children:[e.jsx(D,{className:"mx-auto mb-2 h-6 w-6 text-info"}),e.jsx("p",{className:"text-2xl font-bold text-base-content",children:m.totalPlatform||0}),e.jsx("p",{className:"text-xs text-base-content/60",children:"Platform Aktif"})]})}),e.jsx(t,{children:e.jsxs(l,{className:"text-center",children:[e.jsx(E,{className:"mx-auto mb-2 h-6 w-6 text-success"}),e.jsx("p",{className:"text-2xl font-bold text-base-content",children:m.totalKategori||0}),e.jsx("p",{className:"text-xs text-base-content/60",children:"Kategori"})]})})]}),e.jsx(t,{className:"mb-6","data-aos":"fade-up","data-aos-delay":"200",children:e.jsx(l,{children:e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute top-1/2 left-4 h-5 w-5 -translate-y-1/2 text-base-content/40"}),e.jsx("input",{type:"text",placeholder:"Cari konten berdasarkan judul, platform, atau kategori...",value:r,onChange:a=>u(a.target.value),className:"input-bordered input w-full pl-12"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Platform"})}),e.jsxs("select",{className:"select-bordered select w-full",value:i,onChange:a=>b(a.target.value),children:[e.jsx("option",{value:"",children:"Semua Platform"}),S?.map(a=>e.jsx("option",{value:a.id,children:a.nm_platform},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Kategori"})}),e.jsxs("select",{className:"select-bordered select w-full",value:n,onChange:a=>g(a.target.value),children:[e.jsx("option",{value:"",children:"Semua Kategori"}),_?.map(a=>e.jsx("option",{value:a.id,children:a.nm_kategori},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Tag"})}),e.jsxs("select",{className:"select-bordered select w-full",value:c,onChange:a=>f(a.target.value),children:[e.jsx("option",{value:"",children:"Semua Tag"}),C?.map(a=>e.jsx("option",{value:a.id,children:a.nm_tag},a.id))]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{type:"submit",className:"btn-primary",children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),"Cari"]}),(r||i||n||c)&&e.jsxs(p,{type:"button",onClick:N,className:"btn-outline",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})})}),s.data&&s.data.length>0&&e.jsxs("div",{className:"mb-4 text-sm text-base-content/60","data-aos":"fade-up","data-aos-delay":"300",children:["Menampilkan ",s.data.length," dari ",s.total," konten"]}),s.data&&s.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3","data-aos":"fade-up","data-aos-delay":"300",children:s.data.map(a=>{const x=(a.jml_views||0)+(a.jml_likes||0)+(a.jml_komentar||0)+(a.jml_share||0);return e.jsx(t,{className:"transition-all hover:shadow-xl",children:e.jsxs(l,{children:[e.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[e.jsx(h,{variant:"info",className:"text-xs",children:a.platform?.nm_platform||"-"}),a.kategori&&e.jsx(h,{variant:"success",className:"text-xs",children:a.kategori.nm_kategori})]}),e.jsx("h3",{className:"mb-2 line-clamp-2 font-semibold text-base-content",children:a.judul_konten}),a.tags&&a.tags.length>0&&e.jsx("div",{className:"mb-3 flex flex-wrap gap-1",children:a.tags.map(v=>e.jsx(h,{variant:"outline",className:"text-xs",children:v.nm_tag},v.id))}),e.jsx("div",{className:"mb-3 flex items-center gap-4 text-xs text-base-content/60",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3"}),a.tgl_publikasi?new Date(a.tgl_publikasi).toLocaleDateString("id-ID"):"-"]})}),x>0&&e.jsxs("div",{className:"mb-3 flex items-center gap-4 border-t border-base-300 pt-2 text-xs text-base-content/60",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"h-3 w-3"})," ",a.jml_views?.toLocaleString("id-ID")||0]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"h-3 w-3"})," ",a.jml_likes?.toLocaleString("id-ID")||0]})]}),e.jsxs("a",{href:a.link_konten,target:"_blank",rel:"noopener noreferrer",className:"btn w-full btn-sm btn-primary",children:["Lihat Konten ",e.jsx(F,{className:"ml-1 h-3 w-3"})]})]})},a.id)})}),s.links&&s.links.length>3&&e.jsx("div",{className:"mt-8 flex justify-center","data-aos":"fade-up","data-aos-delay":"400",children:e.jsx("div",{className:"join",children:s.links.map((a,x)=>e.jsx(T,{href:a.url||"#",className:`join-item btn ${a.active?"btn-active":""} ${a.url?"":"btn-disabled"}`,dangerouslySetInnerHTML:{__html:a.label}},x))})})]}):e.jsx(t,{"data-aos":"fade-up","data-aos-delay":"300",children:e.jsxs(l,{className:"py-12 text-center",children:[e.jsx(j,{className:"mx-auto mb-4 h-12 w-12 text-base-content/30"}),e.jsx("p",{className:"text-base-content/60",children:r||i||n||c?"Tidak ada konten yang sesuai dengan filter":"Belum ada konten yang dipublikasi"}),(r||i||n||c)&&e.jsx(p,{onClick:N,className:"btn-outline btn-sm mt-4",children:"Reset Filter"})]})})]})})})}export{Z as default};
