import{r as u,j as e,H as C,a as g}from"./app-DbkAcIcf.js";import{A as T}from"./AdminLayout-CEJfVZvh.js";import{C as r,b as h,c as m,a as n}from"./Card-ScLjZ8A4.js";import{B as c}from"./Button-CS187W_5.js";import{B as N}from"./Badge-BV8LNYju.js";import{a as E}from"./aos-BTYriBEt.js";import{F as b}from"./tag-CRFwzLi5.js";import{c as w}from"./createLucideIcon-Bfkpeow3.js";import"./Avatar-B3yzDNTs.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],f=w("file-spreadsheet",K);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]],v=w("file-type",M);function U({auth:S,kontens:o,platforms:y,kategoris:k,stats:l,kontenPerPlatform:x,filters:d}){const[t,i]=u.useState({tanggal_mulai:d.tanggal_mulai||"",tanggal_akhir:d.tanggal_akhir||"",platform:d.platform||"",kategori:d.kategori||"",status:d.status||""});u.useEffect(()=>{window.aosInitialized||(E.init({duration:800,easing:"ease-in-out",once:!0}),window.aosInitialized=!0)},[]);const L=a=>{a.preventDefault(),g.get(route("admin.laporan.index"),t,{preserveState:!0,preserveScroll:!0})},_=()=>{i({tanggal_mulai:"",tanggal_akhir:"",platform:"",kategori:"",status:""}),g.get(route("admin.laporan.index"),{},{preserveState:!0,preserveScroll:!0})},j=()=>{const a=new URLSearchParams;Object.keys(t).forEach(s=>{t[s]&&a.append(s,t[s])}),window.location.href="/admin/laporan/export/excel?"+a.toString()},p=()=>{const a=new URLSearchParams;Object.keys(t).forEach(s=>{t[s]&&a.append(s,t[s])}),window.location.href="/admin/laporan/export/pdf?"+a.toString()},D=a=>{const s={draft:"warning",publikasi:"success",arsip:"error"};return e.jsx(N,{variant:s[a]||"info",children:I(a)})},I=a=>a?a.charAt(0).toUpperCase()+a.slice(1):"";return e.jsxs(T,{auth:S,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-base-content",children:"Laporan Konten"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{variant:"success",onClick:j,className:"btn-sm",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),e.jsxs(c,{variant:"error",onClick:p,className:"btn-sm",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),children:[e.jsx(C,{title:"Laporan Konten"}),e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsxs(r,{className:"mb-6","data-aos":"fade-down",children:[e.jsx(h,{children:e.jsx(m,{children:"Filter Laporan"})}),e.jsx(n,{children:e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Tanggal Mulai"})}),e.jsx("input",{type:"date",className:"input-bordered input w-full",value:t.tanggal_mulai,onChange:a=>i({...t,tanggal_mulai:a.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Tanggal Akhir"})}),e.jsx("input",{type:"date",className:"input-bordered input w-full",value:t.tanggal_akhir,onChange:a=>i({...t,tanggal_akhir:a.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Platform"})}),e.jsxs("select",{className:"select-bordered select w-full",value:t.platform,onChange:a=>i({...t,platform:a.target.value}),children:[e.jsx("option",{value:"",children:"Semua Platform"}),y?.map(a=>e.jsx("option",{value:a.id,children:a.nm_platform},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Kategori"})}),e.jsxs("select",{className:"select-bordered select w-full",value:t.kategori,onChange:a=>i({...t,kategori:a.target.value}),children:[e.jsx("option",{value:"",children:"Semua Kategori"}),k?.map(a=>e.jsx("option",{value:a.id,children:a.nm_kategori},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Status"})}),e.jsxs("select",{className:"select-bordered select w-full",value:t.status,onChange:a=>i({...t,status:a.target.value}),children:[e.jsx("option",{value:"",children:"Semua Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"publikasi",children:"Publikasi"}),e.jsx("option",{value:"arsip",children:"Arsip"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{type:"submit",variant:"primary",className:"btn-sm",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Filter"]}),e.jsx(c,{type:"button",onClick:_,variant:"outline",className:"btn-sm",children:"Reset"})]})]})})]}),l&&e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4","data-aos":"fade-up","data-aos-delay":"100",children:[e.jsx(r,{children:e.jsx(n,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-base-content",children:l.totalKonten||0}),e.jsx("p",{className:"text-sm text-base-content/60",children:"Total Konten"})]})})}),e.jsx(r,{children:e.jsx(n,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-base-content",children:l.totalViews?.toLocaleString("id-ID")||0}),e.jsx("p",{className:"text-sm text-base-content/60",children:"Total Views"})]})})}),e.jsx(r,{children:e.jsx(n,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-base-content",children:l.totalLikes?.toLocaleString("id-ID")||0}),e.jsx("p",{className:"text-sm text-base-content/60",children:"Total Likes"})]})})}),e.jsx(r,{children:e.jsx(n,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-base-content",children:l.totalEngagement?.toLocaleString("id-ID")||0}),e.jsx("p",{className:"text-sm text-base-content/60",children:"Total Engagement"})]})})})]}),x&&x.length>0&&e.jsxs(r,{className:"mb-6","data-aos":"fade-up","data-aos-delay":"200",children:[e.jsx(h,{children:e.jsx(m,{children:"Konten Per Platform"})}),e.jsx(n,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-zebra w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Platform"}),e.jsx("th",{className:"text-center",children:"Jumlah Konten"}),e.jsx("th",{className:"text-center",children:"Total Views"}),e.jsx("th",{className:"text-center",children:"Total Likes"})]})}),e.jsx("tbody",{children:x.map((a,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:a.platform}),e.jsx("td",{className:"text-center",children:a.count}),e.jsx("td",{className:"text-center",children:a.views.toLocaleString("id-ID")}),e.jsx("td",{className:"text-center",children:a.likes.toLocaleString("id-ID")})]},s))})]})})})]}),e.jsxs(r,{"data-aos":"fade-up","data-aos-delay":"300",children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(m,{children:["Data Konten (",o?.length||0," item)"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{variant:"success",onClick:j,className:"btn-sm",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Excel"]}),e.jsxs(c,{variant:"error",onClick:p,className:"btn-sm",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"PDF"]})]})]})}),e.jsx(n,{children:o&&o.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-zebra w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Judul Konten"}),e.jsx("th",{children:"Platform"}),e.jsx("th",{children:"Kategori"}),e.jsx("th",{children:"Tanggal Publikasi"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Views"}),e.jsx("th",{className:"text-center",children:"Likes"}),e.jsx("th",{className:"text-center",children:"Komentar"}),e.jsx("th",{className:"text-center",children:"Share"})]})}),e.jsx("tbody",{children:o.map((a,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:s+1}),e.jsx("td",{children:e.jsx("div",{className:"max-w-xs truncate",title:a.judul_konten,children:a.judul_konten})}),e.jsx("td",{children:e.jsx(N,{variant:"info",children:a.platform?.nm_platform||"-"})}),e.jsx("td",{children:a.kategori?.nm_kategori||"-"}),e.jsx("td",{children:a.tgl_publikasi?new Date(a.tgl_publikasi).toLocaleDateString("id-ID"):"-"}),e.jsx("td",{children:D(a.status_konten)}),e.jsx("td",{className:"text-center",children:(a.jml_views||0).toLocaleString("id-ID")}),e.jsx("td",{className:"text-center",children:(a.jml_likes||0).toLocaleString("id-ID")}),e.jsx("td",{className:"text-center",children:(a.jml_komentar||0).toLocaleString("id-ID")}),e.jsx("td",{className:"text-center",children:(a.jml_share||0).toLocaleString("id-ID")})]},a.id))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"font-bold",children:[e.jsx("td",{colSpan:"6",className:"text-center",children:"TOTAL"}),e.jsx("td",{className:"text-center",children:(l?.totalViews||0).toLocaleString("id-ID")}),e.jsx("td",{className:"text-center",children:(l?.totalLikes||0).toLocaleString("id-ID")}),e.jsx("td",{className:"text-center",children:(l?.totalKomentar||0).toLocaleString("id-ID")}),e.jsx("td",{className:"text-center",children:(l?.totalShare||0).toLocaleString("id-ID")})]})})]})}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(b,{className:"mx-auto mb-4 h-12 w-12 text-base-content/30"}),e.jsx("p",{className:"text-base-content/60",children:"Tidak ada data konten yang sesuai dengan filter"})]})})]})]})]})}export{U as default};
